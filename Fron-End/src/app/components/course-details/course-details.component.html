<!--star content section-->
<div class="container">
    <div *ngIf='!isLoad' class="row">
        <div class="col-md-12 text-center d-flex justify-content-center mt-5">
            <i class="fas fa-spinner fa-spin main-colour fa-3x"></i>
        </div>
    </div>
</div>


<div *ngIf='!resourseDeleted' class="alert alert-success container mt-3" role="alert">
        delete success!!
</div>
<div *ngIf='resourseNotFound' class="alert alert-danger container mt-3" role="alert">
    not found!!
</div>
<div *ngIf='registertionDone' class="alert alert-success" role="alert">
    Done!
</div>


<div *ngIf='!resourseNotFound'>
    <div *ngIf='isLoad'>
        <div *ngIf='resourseDeleted' class="container courselanding">
            <div *ngIf='course' >
                <div  class="row">
    
                    <div *ngIf='!btnAddMe' class="dropdown show offset-md-10 col-md-2 mt-3">
                        <i class="fas fa-ellipsis-v float-right p-2" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></i>
                    
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                        <a [routerLink]="['/editcourse', courseDetails?._id]" class="dropdown-item"><span>Edit</span> <i class="fas fa-pen-square text-info float-right"></i></a>
                        <a  class="dropdown-item" data-toggle="modal" data-target="#DeleteNote"><span>Delete</span> <i class="fas fa-trash text-danger float-right"></i></a>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class=" content-image  ">
                            <h4 class="my-4">{{courseDetails?.title}}</h4>
                
                            <img class=" " src="../../../assets/image/Capture33.PNG">
                
                        </div>
        
                    </div>
                    <div class="offset-md-2 col-md-4 my-5">
                        <ul *ngIf='lessonsRcourse.length !=0' class="list-group">
                            <li class="list-group-item bg-mainColor h4 text-light">Lessons</li>
                            <li    (click)="reloadCurrentPage(lesson?._id)"  *ngFor ='let lesson of lessonsRcourse' class="list-group-item cursorPointer">{{lesson.title}}</li>
     
                        </ul>
                    </div>
                </div>
            
                <div class="row">
                    <div class="col-md-7 mt-2">
                        <h5> About this course </h5>
                        <div class="brdr mb-2">
                        </div>
                        <div class="mt-4">
                                {{courseDetails?.desc}}
                        </div>
                    </div>
    
                </div>
                
                <div class="row mt-5">
                    <div class="col-md-12 p-5">
                        <div  style="min-height: 200px;" class= "row profile-item-item pb-5">
            
                            <div class="offset-md-1 col-xs-2 mt-5">
                                <i class="fas fa-user-circle icon fa-5x main-colour"></i>
            
                                <!-- <img class=" img-fluid w-50 h-50" src="assets/image/bs.PNG"
                                    alt=" insrtuctor-profile"> -->
                            </div>
                            <div class=" col-xs-2 mt-4 ml-4 mt-5">
                                <h5>{{courseDetails?.userID?.fname}} {{courseDetails?.userID?.lname}}</h5>
    
    
                            </div>
    
                        <div class="row">
                            <div class="offset-md-2 col-md-8">
                                <p > 
                                    {{courseDetails?.userID?.bio}}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
    
            </div>
            <div *ngIf='lesson' >
                <div  class="row">
    
                    <div *ngIf='!btnAddMe' class="dropdown show offset-md-10 col-md-2 mt-3">
                        <i class="fas fa-ellipsis-v float-right p-2" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></i>
                    
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                        <a [routerLink]="['/editlesson', lessonDetails?._id]" class="dropdown-item"><span>Edit</span> <i class="fas fa-pen-square text-info float-right"></i></a>
                        <a  class="dropdown-item" data-toggle="modal" data-target="#DeleteNote"><span>Delete</span> <i class="fas fa-trash text-danger float-right"></i></a>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class=" content-image  ">
                            <h4 class="my-4">{{lessonDetails?.title}}</h4>
                
                            <img class=" " src="../../../assets/image/Capture33.PNG">
                
                        </div>
        
                    </div>
                    <div class="offset-md-2 col-md-4 mt-5">
                        <ul *ngIf='resourceRlesson.length !=0' class="list-group">
                            <li class="list-group-item bg-mainColor h4 text-light">Resources</li>
                            <li *ngFor ='let resource of resourceRlesson' class="list-group-item">{{resource.title}}</li>
     
                          </ul>
                    </div>
                </div>
            
                <div class="row">
                    <div class="col-md-7 mt-2">
                        <h5> About this lesson </h5>
                        <div class="brdr mb-2">
                        </div>
                        <div class="mt-4 ">
                                {{lessonDetails?.desc}}
                        </div>
                    </div>
    
                </div>
                
                <div class="row mt-5">
                    <div class="col-md-12 p-5">
                        <div  style="min-height: 200px;" class= "row profile-item-item pb-5">
            
                            <div class="offset-md-1 col-xs-2 mt-5">
                                <i class="fas fa-user-circle icon fa-5x main-colour"></i>
            
                                <!-- <img class=" img-fluid w-50 h-50" src="assets/image/bs.PNG"
                                    alt=" insrtuctor-profile"> -->
                            </div>
                            <div class=" col-xs-2 mt-4 ml-4 mt-5">
                                <h5>{{lessonDetails?.userID?.fname}} {{lessonDetails?.userID?.lname}}</h5>
    
    
                            </div>
    
                        <div class="row">
                            <div class="offset-md-2 col-md-8">
                                <p > 
                                    {{lessonDetails?.userID?.bio}}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
    
    
            </div>
            <div *ngIf='resource' >
                <div  class="row">
                    <div *ngIf='!btnAddMe' class="dropdown show offset-md-10 col-md-2 mt-3">
                        <i class="fas fa-ellipsis-v float-right p-2" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></i>
                    
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                        <a [routerLink]="['/update', resourseDetails?._id]" class="dropdown-item"><span>Edit</span> <i class="fas fa-pen-square text-info float-right"></i></a>
                        <a  class="dropdown-item" data-toggle="modal" data-target="#DeleteNote"><span>Delete</span> <i class="fas fa-trash text-danger float-right"></i></a>
                        </div>
                    </div>
                    <div class="col-md-10">
                        <div class=" content-image  ">
                            <h4 [routerLink]="['/content', resourseDetails?._id]" class="my-4 cursorPointer">{{resourseDetails?.title}}</h4>
                
                            <img class=" " src="../../../assets/image/Capture33.PNG">
                
                        </div>
        
                    </div>
                </div>
            
                <div class="row">
                    <div class="col-md-7 mt-2">
                        <h5> About this resource </h5>
                        <div class="brdr mb-2">
                        </div>
                        <div class="mt-4">
                                {{resourseDetails?.desc}}
                        </div>
                    </div>
                </div>
    
    
                <div class="row mt-5">
                    <div class="col-md-12 p-5">
                        <div  style="min-height: 200px;" class= "row profile-item-item pb-5">
            
                            <div class="offset-md-1 col-xs-2 mt-5">
                                <i class="fas fa-user-circle icon fa-5x main-colour"></i>
            
                                <!-- <img class=" img-fluid w-50 h-50" src="assets/image/bs.PNG"
                                    alt=" insrtuctor-profile"> -->
                            </div>
                            <div class=" col-xs-2 mt-4 ml-4 mt-5">
                                <h5>{{resourseDetails?.userID?.fname}} {{resourseDetails?.userID?.lname}}</h5>
    
    
                            </div>
    
                        <div class="row">
                            <div class="offset-md-2 col-md-8">
                                <p > 
                                    {{resourseDetails?.userID?.bio}}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
    
    
    
    
    <!-- Button trigger modal -->
    <!-- 
        <div class="row">
            <div *ngIf='btnAddMe' class=" col-md-3 m-auto content-item text-center">
                <button  type="button" class="btn" data-toggle="modal" data-target="#exampleModal">
                    Add me      
                </button>
            </div>
        </div> -->
    
    <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                <h5>Are you sure to register in this course</h5>
              </div>
            <div class="modal-footer pt-5">
              <button (click)='addRegistertionCourse()' type="button" class="btn bg-mainColor text-white" data-dismiss="modal">Yes</button>
              <button type="button" class="btn bg-mainColor text-white" data-dismiss="modal">No, later</button>
    
            </div>
          </div>
        </div>
        </div>
    
    <!--  -->
    
        </div>
    </div>
    </div>
 
<!--end content section-->


<!--------------------------------------- Delete course ---------------------------------->
<div class="modal fade" id="DeleteNote" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Are you sure? </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
            </div>
            <div class="modal-body">
                <div class="container text-center">
                    <div class="row">
                        <div class="col-md-12">
                            <p class="text-info">Do you really want to delete ?<br> process cannot be undone</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button (click)="delete()" class="btn btn-danger"  data-dismiss="modal">Delete</button>

                <button type="button" class="btn btn-info" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>
<!--------------------------------------- /Delete course ---------------------------------->